
<!-- detail vue = 화면 / article 화면의 구성 요소중 한 부분-->
<script>
import { reactive } from "vue";
import { useRoute } from "vue-router";
import api from "@/api";
import Article from "@/components/meeting/Article.vue";
import ParticipantList from "@/components/meeting/ParticipantList.vue";
import Comments from "@/components/meeting/Comments.vue";

export default {
  name: "MeetingDetail",
  components: {
    Article,
    ParticipantList,
    Comments
  },
  setup() {
    const state = reactive({
      detail: {},
    });
    // 모임 정보 조회 reactive는 view단과 model단 일치
    const getDetail = () => {
      try {
        const route = useRoute();
        api.meeting
            .getDetail(route.params.id)
            .then((res) => res.json())
            .then((data) => (state.detail = data));
      } catch (e) {
        console.log(e);
        alert("잠시 후에 다시 시도해주세요");
      }
    };
    getDetail();
    // 참여자 정보 조회
    // 댓글 정보 조회
    return { state }; //script에서 return된 값이 model
  },
};
</script>
<template>
  <div class="content-wrap">
  <Article :article="state.detail"/>
  <ParticipantList :detail="state.detail"/> 
  <Comments :detail="state.detail"/>
  </div>
</template>
<style scoped>

   
   .content-wrap{
  
    max-width: 783px;
    width: 100%;
    padding: 1.2rem;

   }

    @media (min-width: 576px) {
     .content-wrap{
       padding: 4rem;
    }
  }
    
 

   
</style>